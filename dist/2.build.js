webpackJsonp([2],{221:function(e,t,i){"use strict";function l(e){i(243)}Object.defineProperty(t,"__esModule",{value:!0});var o=i(228),a=i.n(o);for(var r in o)"default"!==r&&function(e){i.d(t,e,function(){return o[e]})}(r);var n=i(245),s=i(31),m=l,c=s(a.a,n.a,!1,m,"data-v-7258c37f",null);t.default=c.exports},228:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=i(89);t.default={data:function(){return{loading:!1,viewForm:{},viewFormVisible:!1,viewClientFormVisible:!1,plans:[],clients:[]}},methods:{handleView:function(e,t){this.viewForm=Object.assign({},t),this.viewFormVisible=!0},handleClientView:function(e,t){var i=this;this.viewClientFormVisible=!0;var o={group:t.group};this.clients=[],(0,l.clientList)(o).then(function(e){i.loading=!1,i.clients=e.data||[]})},getPlans:function(){var e=this,t={};this.loading=!0,(0,l.planList)(t).then(function(t){e.loading=!1,e.plans=e.formatTimeEach(t.data,["beforeTime","nextTime"])})}},mounted:function(){this.getPlans()}}},243:function(e,t,i){var l=i(244);"string"==typeof l&&(l=[[e.i,l,""]]),l.locals&&(e.exports=l.locals);i(18)("07fbcbb4",l,!0,{})},244:function(e,t,i){t=e.exports=i(17)(!1),t.push([e.i,"",""])},245:function(e,t,i){"use strict";var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("el-card",{staticClass:"box-card"},[i("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[i("span",[e._v("任务执行计划")])]),e._v(" "),i("div",{staticClass:"text item"},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.plans,"highlight-current-row":"",stripe:""}},[i("el-table-column",{attrs:{prop:"id",label:"id",width:"200",fixed:""}}),e._v(" "),i("el-table-column",{attrs:{prop:"name",label:"任务名称",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"group",label:"任务集群",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"cron",label:"Cron表达式",width:"100"}}),e._v(" "),i("el-table-column",{attrs:{prop:"beforeTime",label:"上次执行时间",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"nextTime",label:"下次执行时间",width:"160"}}),e._v(" "),i("el-table-column",{attrs:{prop:"target",label:"target"}}),e._v(" "),i("el-table-column",{attrs:{label:"操作",width:"200",fixed:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(i){return e.handleView(t.$index,t.row)}}},[e._v("详情")]),e._v(" "),i("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(i){return e.handleClientView(t.$index,t.row)}}},[e._v("任务节点")])]}}])})],1)],1)]),e._v(" "),i("el-dialog",{attrs:{title:"任务执行计划",visible:e.viewFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.viewFormVisible=t}}},[i("el-form",{ref:"viewForm",attrs:{model:e.viewForm,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"任务Id",prop:"id"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.id,callback:function(t){e.$set(e.viewForm,"id",t)},expression:"viewForm.id"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务名称",prop:"name"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.name,callback:function(t){e.$set(e.viewForm,"name",t)},expression:"viewForm.name"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务集群",prop:"group"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.group,callback:function(t){e.$set(e.viewForm,"group",t)},expression:"viewForm.group"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"Cron表达式",prop:"cron"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.cron,callback:function(t){e.$set(e.viewForm,"cron",t)},expression:"viewForm.cron"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"目标任务",prop:"target"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.target,callback:function(t){e.$set(e.viewForm,"target",t)},expression:"viewForm.target"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"任务参数",prop:"params"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.params,callback:function(t){e.$set(e.viewForm,"params",t)},expression:"viewForm.params"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"上次执行时间",prop:"beforeTime"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.beforeTime,callback:function(t){e.$set(e.viewForm,"beforeTime",t)},expression:"viewForm.beforeTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"下次执行时间",prop:"nextTime"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.nextTime,callback:function(t){e.$set(e.viewForm,"nextTime",t)},expression:"viewForm.nextTime"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"手机号码",prop:"mobile"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.mobile,callback:function(t){e.$set(e.viewForm,"mobile",t)},expression:"viewForm.mobile"}})],1),e._v(" "),i("el-form-item",{attrs:{label:"备注",prop:"remark"}},[i("el-input",{attrs:{"auto-complete":"off",disabled:""},model:{value:e.viewForm.remark,callback:function(t){e.$set(e.viewForm,"remark",t)},expression:"viewForm.remark"}})],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){e.viewFormVisible=!1}}},[e._v("关闭")])],1)],1),e._v(" "),i("el-dialog",{attrs:{title:"执行任务Client列表",visible:e.viewClientFormVisible,"close-on-click-modal":!1},on:{"update:visible":function(t){e.viewClientFormVisible=t}}},[i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.clients,"highlight-current-row":""}},[i("el-table-column",{attrs:{prop:"name",label:"client",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"group",label:"集群",width:"150"}}),e._v(" "),i("el-table-column",{attrs:{prop:"path",label:"path"}})],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{nativeOn:{click:function(t){e.viewClientFormVisible=!1}}},[e._v("关闭")])],1)],1)],1)},o=[],a={render:l,staticRenderFns:o};t.a=a}});